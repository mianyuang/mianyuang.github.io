(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{505:function(t,e,a){"use strict";a.r(e);var n=a(65),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vue3快速上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3快速上手"}},[t._v("#")]),t._v(" VUE3快速上手")]),t._v(" "),a("h4",{attrs:{id:"一、常用composition-api-常用组合api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、常用composition-api-常用组合api"}},[t._v("#")]),t._v(" 一、常用Composition API（常用组合API）")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("setup")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("理解：vue3中一个新的配置项，和data，methods配置项一样，setup是一个函数。")])]),t._v(" "),a("li",[a("p",[t._v("setup是所有Composition API 表演的舞台。")])]),t._v(" "),a("li",[a("p",[t._v("组件中所用到的数据，方法等等，都要在setup中配置。")])]),t._v(" "),a("li",[a("p",[t._v("setup函数两种返回值：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("若返回一个对象，则对象中属性，方法都可以在vue模版中直接使用。")])]),t._v(" "),a("li",[a("p",[t._v("若返回的是一个渲染函数，则可以自定义渲染内容。")])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("ref函数")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("作用：定义一个响应式的数据。")])]),t._v(" "),a("li",[a("p",[t._v("语法：const xxx=ref（initValue）")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("创建一个包含响应式数据的引用对象(reference对象)")])]),t._v(" "),a("li",[a("p",[t._v("JS中操作数据：xxx.value")])]),t._v(" "),a("li",[a("p",[t._v("模版中读取数据，不需要value，直接<div>"+t._s(t.xxx)+"</div>")])])])]),t._v(" "),a("li",[a("p",[t._v("备注：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("接收的数据可以是基本类型，也可以是对象类型。")])]),t._v(" "),a("li",[a("p",[t._v("基本类型的数据：响应式任然是靠Object.defineProperty()的get和set函数。")])]),t._v(" "),a("li",[a("p",[t._v("对象类型的数据： 内部求助了vue3新的一个函数—reactive函数")])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("reactive函数")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("作用：定义一个"),a("strong",[t._v("对象类型")]),t._v("的响应式数据（基本类型不需要用它，需要ref函数）")])]),t._v(" "),a("li",[a("p",[t._v("语法：const 代理对象=reactive(原对象)接收一个对象或者数组，返回一个代理对象。")])]),t._v(" "),a("li",[a("p",[t._v("reactive定义的响应式数据是深层次的。")])]),t._v(" "),a("li",[a("p",[t._v("内部基于ES6的Proxy实现，通过代理对象操作原对象内部数据进行操作。")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Vue3中的响应式原理")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Vue2中的响应式")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("实现原理")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("对象类型：通过Object.defineProperty()对属性的读取，修改进行拦截（数据劫持）")])]),t._v(" "),a("li",[a("p",[t._v("数组类型：通过重写更新数组中一系列方法进行拦截。")]),t._v(" "),a("div",{staticClass:"language-vue&#x20;jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("Object.defineProperty(data，‘count’，{\n  get(){}\n  set(){}\n})\n")])])])])])]),t._v(" "),a("li",[a("p",[t._v("存在问题")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("新增属性，删除属性，界面不会更新")])]),t._v(" "),a("li",[a("p",[t._v("直接通过下标修改数组，界面不会自动更新。")])]),t._v(" "),a("li",[a("p",[t._v("可以通过以下方法实现响应式更新")]),t._v(" "),a("div",{staticClass:"language-vue&#x20;jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("this.$set(要操作的数据,修改的值)\nVue.set()\n")])])])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Vue3中的响应式")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("实现原理：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("通过Proxy（代理）：拦截对象中任意属性的变化，包括：属性的读写、属性的添加、属性的删除等。")])]),t._v(" "),a("li",[a("p",[t._v("通过Reflect（反射）：对被代理对象属性进行操作。")])])]),t._v(" "),a("div",{staticClass:"language-vue&#x20;jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("new Proxy(data,{\n  //读取属性\n  get(target,proName){\n    return Reflect.get(target,proName)\n  }\n  // 拦截设置属性或添加新属性\n  set(target,propName,value){\n    return Reflect.set(target,propName,value)\n  }\n  // 拦截删除属性\n  deleteProperty(target,propName){\n    return Reflect.deleteProperty(target,PropName)\n  }\n})\n")])])])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Reactive对比Ref")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("从定义数据角度对比：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ref用来定义基本数据类型")])]),t._v(" "),a("li",[a("p",[t._v("reactive用来定义对象或者数组数据类型。")])]),t._v(" "),a("li",[a("p",[t._v("备注：ref也可以定义对象或者数组数据类型，内部会借助reactive转为代理独享。")])])])]),t._v(" "),a("li",[a("p",[t._v("从原理角度对比：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ref主要是通过Object.defineProperty的get和set来实现响应式。")])]),t._v(" "),a("li",[a("p",[t._v("reactive主要是通过windows的proxy代理对象get和set、deleteProperty方法通过反射对象Reflect来操作内部数据。")])])])]),t._v(" "),a("li",[a("p",[t._v("从使用角度对比：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ref数据定义：操作数据需要.value，读取数据时模版中直接读取不需要.value。")])]),t._v(" "),a("li",[a("p",[t._v("reactive定义的数据：操作和读取不需要.value。")])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("setUp的两个注意点")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("setup的执行时机")]),t._v(" "),a("ol",[a("li",[t._v("在beforeCreated之前执行一次，this是undefined。")])])]),t._v(" "),a("li",[a("p",[t._v("setup参数")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("props：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性。")])]),t._v(" "),a("li",[a("p",[t._v("context：上下文对象")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("attrs：值为对象，包含：组件外部传递过来，但没有在props配置中声明的属性，相当于this.$attrs。")])]),t._v(" "),a("li",[a("p",[t._v("slots：收到的插槽内容，相当于$slots.")])]),t._v(" "),a("li",[a("p",[t._v("emit：分发自定义事件的函数，相当于$emit。")])])])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("计算属性与监视")])]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("computed函数")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("与Vue2中computed配置功能一致。")])]),t._v(" "),a("li",[a("p",[t._v("写法")]),t._v(" "),a("div",{staticClass:"language-vue&#x20;jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("//组合式api需要引入compound\nimport {reactive,computed} from 'vue'\nsetup(){\n  let person=reactive({\n    firstName:'zhang',\n    lastName:'san',\n  })\n  //简写计算属性\n  person.fullName = computed(()=>{\n    return person.firstName+'-'+person.lastName;\n  })\n  //完整写法\n  person.fullName=computed({\n    get(){\n      return person.firstName+'-'+person.lastName;\n    }\n    set(value){\n      const namneArr = value.split('-');\n      person.firstName=nameArr[0];\n      person.lastName=nameArr[1];\n    }\n  })\n  return{\n    person\n  }\n}\n")])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("watch函数")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("与vue2中watch配置功能一致。")])]),t._v(" "),a("li",[a("p",[t._v("两个小坑：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("监视reactive定义的响应式数据时：oldvalue无法正确获取，强制开启了深度监视(deep配置失效)")])]),t._v(" "),a("li",[a("p",[t._v("监视reactive定义的响应式数据中某个属性(对象)时，deep配置有效。")])])])])]),t._v(" "),a("div",{staticClass:"language-vue&#x20;jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("/组合式api需要引入compound\nimport {reactive,computed,ref} from 'vue'\nsetup(){\n  let name=ref('zhangsan')\n  let age = ref(18)\n  let person=reactive({\n    name:'zhansgan',\n    age:18,\n    job:{\n      salary:'20k'\n    }\n  })\n  //情况一：监视ref定义的响应式数据\n  watch(name,(newValue,oldValue)=>{\n    console.log('name值变化了')\n  },{immediate})\n  // 情况二：监视ref定义的多个响应式数据\n  watch([name,age],(newValue,oldValue)=>{\n    console.log('name值变化了')\n  },{immediate})\n  // 情况三：监视reactive定义的响应式数据---全部属性\n  watch(person,(newValue,oldValue)=>{\n    console.log('name值变化了')\n  },{immediate:true,deep:true})//deep配置无效，oldValue无法正确获取\n  // 情况四：监视ractive定义的响应式数据---某个属性\n  watch(()=>person.job,(newValue,oldValue)=>{\n    console.log('name值变化了')\n  },{immediate:true,deep:true})\n  // 情况五：监视reactive定义的响应式数据---某些属性\n   watch([()=>person.job,()=>person.age],(newValue,oldValue)=>{\n    console.log('name值变化了')\n  },{immediate:true,deep:true})\n  return {\n    name\n  }\n}\n\n\n")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("watchEffect函数")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("watch的套路是：既要指明监视的属性，也要指明监视的回调。")])]),t._v(" "),a("li",[a("p",[t._v("watchEffect套路是：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性。")])]),t._v(" "),a("li",[a("p",[t._v("watchEffect有点像computed：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("但computed注重的是计算出来的值，所以必须写返回值。")])]),t._v(" "),a("li",[a("p",[t._v("而watchEffect更注重的是过程，所以不用写返回值。")])])])])]),t._v(" "),a("div",{staticClass:"language-vue&#x20;jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("//watchEffect所指定的回调中用到的数据只要发生变化，则直接重新执行回调\nwatchEffect(()=>{\n  const x1=sum.value\n  const x2=person.age\n  console.log('回调函数执行了')\n})\n")])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("VUE3生命周期")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("和vue2生命周期差不多，都有beforeCreate、created、beforeMount、mounted。")])]),t._v(" "),a("li",[a("p",[t._v("不同点是beforeDestroy和destroyed变成了beforeunmounted和unmounted。")])]),t._v(" "),a("li",[a("p",[t._v("生命周期钩子函数可写成配置项模式，也可以在setup()函数里面声明。")]),t._v(" "),a("div",{staticClass:"language-vue&#x20;jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("beforeCreated()=====>setup()\ncreated()=====>setup()\nbeforeMount()=====>onBeforeMounted()\nmounted()=====>onMounted()\n.........\n")])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("自定义Hook函数")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("什么是Hook？本质上是一个函数，把setup函数中使用的组合式API进行了封装")])]),t._v(" "),a("li",[a("p",[t._v("类似于vue2中的mixin混入。复用数据和方法。")])])]),t._v(" "),a("div",{staticClass:"language-vue&#x20;jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("//定义一个hooks文件夹，定义一个文件叫userPoint.js \nimport {reactive,onBeforeMounted} from 'vue'\nexport default (){ //实现获取坐标点\n  let point = reactive({x:0,y:0})\n  onBeforeMounted(()=>{\n    windows.addListener((event)=>{\n      point.x = event.pageX\n      point.y = event.pageY\n    })\n  })\n  return point\n}\n//在 setup函数里使用\nimport usePoint from 'userPoint.js'\nsetup(){\n  let point = usePoint()\n  return{\n    point\n  }\n}\n")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("toRef")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("作用：创建一个ref对象，其value值指向另一个对象中的某个属性。")])]),t._v(" "),a("li",[a("p",[t._v("语法：const name=toRef(person,'name')")])]),t._v(" "),a("li",[a("p",[t._v("应用：要将响应式对象中的某个属性单独提供给外部使用时。")])]),t._v(" "),a("li",[a("p",[t._v("扩展：torefs与toRef功能一致，但可以批量创建多个ref对象，语法toRefs(person).")])])])])]),t._v(" "),a("h4",{attrs:{id:"二、其他组合式api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、其他组合式api"}},[t._v("#")]),t._v(" 二、其他组合式API")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("shallowReactive与shallowRef")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("shallowReactive只处理对象最外层属性的响应式。")])]),t._v(" "),a("li",[a("p",[t._v("shallowRef：只处理基本数据类型的响应式，不进行对象的响应式处理。")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("readonly与shallowReadonly")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("readonly：让一个响应式数据变成只读的。（深只读）")])]),t._v(" "),a("li",[a("p",[t._v("shallowReadonly：让一个响应式数据变成只读。(浅只读)")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("toRow与markRaw")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("toRow：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("作用：将一个由reactive生成的响应式对象转化为普通对象。")])]),t._v(" "),a("li",[a("p",[t._v("使用场景：用于读取响应式对象对应的普通对象，对这个对象的所有操作，不会引起页面更新。")])])])]),t._v(" "),a("li",[a("p",[t._v("markRaw：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("作用：标记一个对象，使其永远不会成为响应式对象。")])]),t._v(" "),a("li",[a("p",[t._v("应用场景：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("有些值不应设置为响应式：例如复杂的第三方类库。")])]),t._v(" "),a("li",[a("p",[t._v("当渲染具有不可变数据源的大列表时，跳过响应式转化可以提高性能。")])])])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("customRef")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("作用：创建一个自定义的ref，并对其依赖项跟踪和更新触发进行显示控制。")])]),t._v(" "),a("li",[a("p",[t._v("实现防抖效果")]),t._v(" "),a("div",{staticClass:"language-vue&#x20;jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("keyword"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{keyword}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("customRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" timer\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("customRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("track"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("trigger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("track")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//告诉vue这个value是需要被追踪的")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue\n              "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("triggeer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//告诉vue去重新解析模版")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" keyword "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        keyword"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("provide与inject")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("作用：实现祖孙组件间通信")])]),t._v(" "),a("li",[a("p",[t._v("套路：父组件中有一个provide选项来提供数据，子组件有一个inject选项卡来接收数据。")])]),t._v(" "),a("li",[a("p",[t._v("具体写法：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("祖组件中：")]),t._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("\nsetup(){\n  .......\n  let car = reactive({name:'本次活动',price:'40万'})\n  provide('car',car)\n}\n")])])])]),t._v(" "),a("li",[a("p",[t._v("孙组件中：")]),t._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("\nsetup(){\n.......\nconst car = inject('car')\nreturn {car}\n}\n")])])])])])])])]),t._v(" "),a("li",[a("p",[t._v("xxxxxxx")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);